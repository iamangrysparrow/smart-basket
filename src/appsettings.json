{
  "Theme": "Light",
  "Database": {
    "Provider": "PostgreSQL",
    "ConnectionString": "Host=localhost;Port=5432;Database=smart_basket;Username=postgres;Password=sloart"
  },
  "ReceiptSources": [
    {
      "Name": "Email (migrated)",
      "Type": 0,
      "Parser": "Auto",
      "IsEnabled": true,
      "Email": {
        "ImapServer": "imap.yandex.com",
        "ImapPort": 993,
        "UseSsl": true,
        "Username": "hsSparrow@yandex.ru",
        "Password": "enc:dGtvbmpkeHl4emh3Z3Zsbw==",
        "SenderFilter": "info@kuper.ru",
        "SubjectFilter": "\u0441\u043E\u0431\u0440\u0430\u043D",
        "Folder": "INBOX",
        "SearchDaysBack": 500
      }
    }
  ],
  "Parsers": [
    {
      "Name": "InstamartParser",
      "Type": 0,
      "RequiresAI": false,
      "AiProvider": "",
      "Description": "\u041F\u0430\u0440\u0441\u0435\u0440 HTML-\u0447\u0435\u043A\u043E\u0432 \u043E\u0442 \u0421\u0431\u0435\u0440\u041C\u0430\u0440\u043A\u0435\u0442 (Instamart)",
      "SupportedShops": [
        "\u0421\u0431\u0435\u0440\u041C\u0430\u0440\u043A\u0435\u0442",
        "Instamart",
        "sbermarket.ru"
      ],
      "SupportedFormats": [
        "html"
      ],
      "IsBuiltIn": true,
      "IsEnabled": true
    },
    {
      "Name": "LlmUniversalParser",
      "Type": 1,
      "RequiresAI": true,
      "AiProvider": "",
      "Description": "\u0423\u043D\u0438\u0432\u0435\u0440\u0441\u0430\u043B\u044C\u043D\u044B\u0439 AI-\u043F\u0430\u0440\u0441\u0435\u0440 \u0434\u043B\u044F \u043B\u044E\u0431\u044B\u0445 \u0444\u043E\u0440\u043C\u0430\u0442\u043E\u0432 \u0447\u0435\u043A\u043E\u0432",
      "SupportedShops": [
        "*"
      ],
      "SupportedFormats": [
        "html",
        "text",
        "json"
      ],
      "IsBuiltIn": true,
      "IsEnabled": true
    }
  ],
  "AiProviders": [
    {
      "Key": "Ollama - deepseek-tool-calling",
      "Provider": 0,
      "Model": "MFDoom/deepseek-r1-tool-calling:8b",
      "BaseUrl": "http://localhost:11434",
      "Temperature": 0.2,
      "TimeoutSeconds": 300,
      "MaxTokens": 4000,
      "ApiKey": "",
      "FolderId": "",
      "AgentId": ""
    },
    {
      "Key": "YandexGPT",
      "Provider": 1,
      "Model": "yandexgpt",
      "BaseUrl": "http://localhost:11434",
      "Temperature": 0.1,
      "TimeoutSeconds": 300,
      "MaxTokens": 7000,
      "ApiKey": "enc:QVFWTnhKYk9ZNGt1cVlFd252RzZncXpvVUlrTThiQTQwMVhrczUxMg==",
      "FolderId": "b1guqdamskdmpgqb469g",
      "AgentId": ""
    },
    {
      "Key": "Ollama - mistral",
      "Provider": 0,
      "Model": "mistral:latest",
      "BaseUrl": "http://localhost:11434",
      "Temperature": 0.1,
      "TimeoutSeconds": 60,
      "MaxTokens": 4000,
      "ApiKey": "",
      "FolderId": "",
      "AgentId": ""
    },
    {
      "Key": "Ollama - qwen-7b",
      "Provider": 0,
      "Model": "qwen2.5-coder:7b",
      "BaseUrl": "http://localhost:11434",
      "Temperature": 0.2,
      "TimeoutSeconds": 300,
      "MaxTokens": 5000,
      "ApiKey": "",
      "FolderId": "",
      "AgentId": ""
    },
    {
      "Key": "YA Alice",
      "Provider": 3,
      "Model": "llama3.2:3b",
      "BaseUrl": "http://localhost:11434",
      "Temperature": 0.3,
      "TimeoutSeconds": 300,
      "MaxTokens": 7000,
      "ApiKey": "enc:QVFWTjJ3dmtwSVVQWW5lTTZ6dE1GQzZjRFV6UnRnNW5WX0lkdlFjdA==",
      "FolderId": "b1guqdamskdmpgqb469g",
      "AgentId": "fvtliorm4r0itstnpjsp"
    }
  ],
  "AiOperations": {
    "Classification": "YA Alice",
    "Labels": "Ollama - qwen-7b",
    "Prompts": {
      "Classification/YA Alice": "\u0422\u044B \u2014 \u043A\u043B\u0430\u0441\u0441\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440 \u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u0434\u043B\u044F \u0434\u043E\u043C\u0430\u0448\u043D\u0435\u0439 \u0431\u0443\u0445\u0433\u0430\u043B\u0442\u0435\u0440\u0438\u0438.\r\n\r\n\u0422\u0415\u041A\u0423\u0429\u0418\u0419 \u041A\u0410\u0422\u0410\u041B\u041E\u0413 \u041F\u0420\u041E\u0414\u0423\u041A\u0422\u041E\u0412 (JSON):\r\n{{EXISTING_HIERARCHY_JSON}}\r\n\r\n\u0422\u041E\u0412\u0410\u0420\u042B \u0414\u041B\u042F \u041A\u041B\u0410\u0421\u0421\u0418\u0424\u0418\u041A\u0410\u0426\u0418\u0418:\r\n{{ITEMS}}\r\n\r\n\u041F\u0420\u0410\u0412\u0418\u041B\u0410:\r\n1. \u041A\u0430\u0436\u0434\u044B\u0439 \u0442\u043E\u0432\u0430\u0440 \u041E\u0411\u042F\u0417\u0410\u0422\u0415\u041B\u042C\u041D\u041E \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u043E\u0442\u043D\u0435\u0441\u0451\u043D \u043A \u043A\u043E\u043D\u043A\u0440\u0435\u0442\u043D\u043E\u0439 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u043E\u0432\r\n2. \u0417\u0410\u041F\u0420\u0415\u0429\u0415\u041D\u041E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 \u0442\u0438\u043F\u0430 \u0022\u041D\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u043E\u0022, \u0022\u0414\u0440\u0443\u0433\u043E\u0435\u0022, \u0022\u041F\u0440\u043E\u0447\u0435\u0435\u0022, \u0022\u0420\u0430\u0437\u043D\u043E\u0435\u0022\r\n3. \u0415\u0441\u043B\u0438 \u043F\u043E\u0434\u0445\u043E\u0434\u044F\u0449\u0435\u0439 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 \u043D\u0435\u0442 \u2014 \u0441\u043E\u0437\u0434\u0430\u0439 \u043D\u043E\u0432\u0443\u044E \u0441 \u043F\u043E\u043D\u044F\u0442\u043D\u044B\u043C \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435\u043C (\u0425\u043B\u0435\u0431-\u003E\u0411\u0430\u0442\u043E\u043D, \u0412\u0430\u0440\u0435\u043D\u044C\u0435)\r\n4. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 \u0438\u0437 \u043A\u0430\u0442\u0430\u043B\u043E\u0433\u0430 \u0435\u0441\u043B\u0438 \u043E\u043D\u0438 \u043F\u043E\u0434\u0445\u043E\u0434\u044F\u0442\r\n\r\n\u0412\u0435\u0440\u043D\u0438 JSON:\r\n- products: \u043D\u043E\u0432\u044B\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 (\u0435\u0441\u043B\u0438 \u043D\u0443\u0436\u043D\u044B), \u043A\u0430\u0436\u0434\u0430\u044F \u0441 name \u0438 parent\r\n- items: \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u0442\u043E\u0432\u0430\u0440\u0430 \u0443\u043A\u0430\u0436\u0438 name, product (\u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F) \u0438 path (\u043F\u0443\u0442\u044C \u0432 \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u0438 \u043A\u0430\u043A \u043C\u0430\u0441\u0441\u0438\u0432)\r\n\r\n\u041F\u0440\u0438\u043C\u0435\u0440 \u043E\u0442\u0432\u0435\u0442\u0430:\r\n{\r\n  \u0022products\u0022: [{\u0022name\u0022: \u0022\u0419\u043E\u0433\u0443\u0440\u0442\u0022, \u0022parent\u0022: \u0022\u041C\u043E\u043B\u043E\u0447\u043D\u044B\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u044B\u0022}],\r\n  \u0022items\u0022: [{\u0022name\u0022: \u0022\u041C\u043E\u043B\u043E\u043A\u043E \u0414\u043E\u043C\u0438\u043A \u0432 \u0434\u0435\u0440\u0435\u0432\u043D\u0435 2.5%\u0022, \u0022product\u0022: \u0022\u041C\u043E\u043B\u043E\u043A\u043E\u0022, \u0022path\u0022: [\u0022\u041C\u043E\u043B\u043E\u0447\u043D\u044B\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u044B\u0022, \u0022\u041C\u043E\u043B\u043E\u043A\u043E\u0022]}]\r\n}",
      "Classification/YandexGPT": "\u0422\u044B \u2014 \u043A\u043B\u0430\u0441\u0441\u0438\u0444\u0438\u043A\u0430\u0442\u043E\u0440 \u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u0434\u043B\u044F \u0434\u043E\u043C\u0430\u0448\u043D\u0435\u0439 \u0431\u0443\u0445\u0433\u0430\u043B\u0442\u0435\u0440\u0438\u0438.\r\n\r\n\u0422\u0415\u041A\u0423\u0429\u0418\u0419 \u041A\u0410\u0422\u0410\u041B\u041E\u0413 \u041F\u0420\u041E\u0414\u0423\u041A\u0422\u041E\u0412 (JSON):\r\n{{EXISTING_HIERARCHY_JSON}}\r\n\r\n\u0422\u041E\u0412\u0410\u0420\u042B \u0414\u041B\u042F \u041A\u041B\u0410\u0421\u0421\u0418\u0424\u0418\u041A\u0410\u0426\u0418\u0418:\r\n{{ITEMS}}\r\n\r\n\u0412\u0435\u0440\u043D\u0438 JSON:\r\n- products: \u043D\u043E\u0432\u044B\u0435 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438 (\u0435\u0441\u043B\u0438 \u043D\u0443\u0436\u043D\u044B), \u043A\u0430\u0436\u0434\u0430\u044F \u0441 name \u0438 parent\r\n- items: \u0434\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u0442\u043E\u0432\u0430\u0440\u0430 \u0443\u043A\u0430\u0436\u0438 name, product (\u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F) \u0438 path (\u043F\u0443\u0442\u044C \u0432 \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u0438 \u043A\u0430\u043A \u043C\u0430\u0441\u0441\u0438\u0432)\r\n\r\n\u041F\u0440\u0438\u043C\u0435\u0440 \u043E\u0442\u0432\u0435\u0442\u0430:\r\n{\r\n  \u0022products\u0022: [{\u0022name\u0022: \u0022\u0419\u043E\u0433\u0443\u0440\u0442\u0022, \u0022parent\u0022: \u0022\u041C\u043E\u043B\u043E\u0447\u043D\u044B\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u044B\u0022}],\r\n  \u0022items\u0022: [{\u0022name\u0022: \u0022\u041C\u043E\u043B\u043E\u043A\u043E \u0414\u043E\u043C\u0438\u043A \u0432 \u0434\u0435\u0440\u0435\u0432\u043D\u0435 2.5%\u0022, \u0022product\u0022: \u0022\u041C\u043E\u043B\u043E\u043A\u043E\u0022, \u0022path\u0022: [\u0022\u041C\u043E\u043B\u043E\u0447\u043D\u044B\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u044B\u0022, \u0022\u041C\u043E\u043B\u043E\u043A\u043E\u0022]}]\r\n}"
    }
  }
}