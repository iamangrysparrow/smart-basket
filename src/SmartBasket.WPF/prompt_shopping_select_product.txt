Выбери лучший товар из результатов поиска в интернет-магазине.

## Что ищет пользователь
Название: {{DRAFT_ITEM_NAME}}
Требуемое количество: {{DRAFT_ITEM_QUANTITY}} {{DRAFT_ITEM_UNIT}}
Категория: {{DRAFT_ITEM_CATEGORY}}

## Результаты поиска в магазине {{STORE_NAME}}
{{SEARCH_RESULTS}}

## Твоя задача
1. Выбери товар, который лучше всего соответствует запросу
2. Рассчитай нужное количество с учётом фасовки товара
3. Если ни один товар не подходит — верни selected_product_id: null

## Критерии выбора (в порядке приоритета)
1. Товар соответствует запросу по названию и типу
2. Товар в наличии (InStock = true)
3. Оптимальное соотношение цена/объём
4. Фасовка близка к требуемому количеству (минимизируй излишек)

## Расчёт количества
Пример: пользователю нужно 2 л молока

Вариант A: Молоко 930мл за 89₽
- Нужно: ceil(2000 / 930) = 3 шт
- Получим: 2.79 л
- Стоимость: 267₽
- Излишек: 0.79 л

Вариант B: Молоко 1.5л за 129₽
- Нужно: ceil(2000 / 1500) = 2 шт
- Получим: 3 л
- Стоимость: 258₽
- Излишек: 1 л

Выбираем вариант B — дешевле за нужный объём.

## Формат ответа
Вызови инструмент select_product:
```json
{
  "name": "select_product",
  "arguments": {
    "draft_item_id": "{{DRAFT_ITEM_ID}}",
    "selected_product_id": "ID выбранного товара или null",
    "quantity": 2,
    "reasoning": "Краткое обоснование выбора (1-2 предложения)"
  }
}
```

## Важно
- Если товар не найден или все варианты не подходят, верни selected_product_id: null
- В reasoning укажи почему выбран именно этот товар или почему ничего не подошло
- Учитывай единицы измерения: кг, г, л, мл, шт, уп
