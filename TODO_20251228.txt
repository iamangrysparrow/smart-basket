TODO
 - Переименование. ProductSearchResult -> StoreItemSearchResult
 - Блок полей переименовываем
    decimal Price,
    string? Unit, - PriceUnit
    decimal Quantity, - PriceQuantity
 - добавляем новые поля
    decimal MinimumPurchasePrice, - минимальная цена заказа
    decimal MinimumPurchaseQuantity - минимальная единица заказа
	string MinimumPurchaseUnit - минимальная единица заказа (как будет в чеке)
  


TODO
 1. SQL не поддерживает конструкции OR при запросе к полям
 2. В описании схемы не передаются новые поля.
 3. Описание схемы (данные) экономнее передавать модели в виде MD не в JSON
 4. Альтернативы из магазинов. Если есть то в корзинах их можно выбирать
 5. Редакторы для количества. Надо продумать как их выбирать / назначать
 6. UI поиска в магазинах и работы с чеками надо полностью переработать
 7. Разобраться с токенами и ценами. Эта штука просто жрет как не в себя.
 8. Проблема в парсере чеков. См. парсинг Борщ, Чай Черный В Пакетиках, Яйцо Куриное. Чек 1b26d031-0eba-4f0e-b37d-2fae0610c265 от 2025-12-15
 
GigaChat ?

Саша, привет))

Ниже ответ на твой вопрос, почему эту задачу еще никто не сделал ))

1. Грязные данные. Очень грязные. В каждом магазине своя номенклатура. Даже в рамках 1ой сети. На чеках написано с миллионом сокращений.
2. Проблемы категоризации. Куча классификаций. Самому классифицировать тоже трудно.
3. Единицы измерения. Упаковки, базовые, СИ и т.д. и т.п. Надо разделять на учетные и магазинные.
4. Наебки от магазинов. Например цена указана за 300/200/100 грамм, а продается в килограммах. И так далее и тому подобное.
5. Отсутвие API от магазинов. Получение данных о товарах только через веб морду. Очень хрупко и тут тоже миллион ньюансов.
6. ИИ стоит дорого (как оказалось) даже для предварительного анализа все этой грязи с учетом ее объемов.
7. Неустранимые (на нашем уровне) баги в прошивке ИИ )). Например Yandex полностью игнорирует Макароны и не понимает транскрипцию kuritsey (всегда переписывает в kuritцей)

Это просто очень дорогая разработка для одного человека ))
Короче.
Чеки мои парсятся (хотя есть осечки, но это фигня)
Товары и корзины собираются.

Но еще надо доработать работы с кол-вом и разными ЕИ и разными редакторами кол-ва для разных групп товаров. Но в принципе понтяно как.
И еще надо копать в сторону уменьшения костов. У меня сейчас выходит около 150 - 200 руб за подбор 28-30 товаров в 2-3 магазинах. 
А вчера вообще ушло 
500 )))
Как бы не выгодно ))




